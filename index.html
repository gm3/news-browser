<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI News Browser</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
    </style>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-main">
                <div class="header-left">
                    <div class="logo">
                        <span class="logo-icon">üì∞</span>
                        <span class="logo-text">News Browser</span>
                    </div>
                    <div class="date-navigation">
                        <button id="prev-date-btn" title="Previous date">‚Üê</button>
                        <div class="date-content">
                            <div class="date-controls">
                                <button id="today-btn" title="Go to today">Today</button>
                                <button id="calendar-btn" title="Pick a date">üìÖ</button>
                            </div>
                            <div class="date-display">
                                <span id="current-date-display">Today</span>
                            </div>
                        </div>
                        <button id="next-date-btn" title="Next date">‚Üí</button>
                    </div>
                </div>
                <div class="header-right">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Search news...">
                        <button id="search-btn">üîç</button>
                        <button id="toggle-filters-btn" title="Toggle Filters">üîß</button>
                    </div>
                    <div class="action-buttons">
                        <button id="toggle-layout-btn" title="Toggle layout">üß±</button>
                        <button id="load-news-btn" title="Load News">üì•</button>
                        <button id="view-original-json-btn" title="View Original JSON">üìÑ</button>
                        <button id="generate-json-btn" title="Generate Curated JSON">‚ö°</button>
                        <button id="live-news-viewer-btn" title="Live News Viewer">üì∫</button>
                        <button id="open-curation-btn" title="Open curation panel">üìã</button>
                        <button id="open-chatbot-btn" title="Open AI chatbot">ü§ñ</button>
                    </div>
                </div>
                <div class="mobile-menu-toggle">
                    <button id="hamburger-btn" title="Menu">‚ò∞</button>
                </div>
            </div>
            <div class="mobile-menu" id="mobile-menu">
                <div class="mobile-menu-content">
                    <div class="mobile-header">
                        <div class="mobile-logo">
                            <span class="logo-icon">üì∞</span>
                            <span class="logo-text">News Browser</span>
                        </div>
                        <button id="mobile-close-btn" title="Close menu">√ó</button>
                    </div>
                    <div class="mobile-date-navigation">
                        <button id="mobile-prev-date-btn" title="Previous date">‚Üê</button>
                        <div class="mobile-date-content">
                            <div class="mobile-date-controls">
                                <button id="mobile-today-btn" title="Go to today">Today</button>
                                <button id="mobile-calendar-btn" title="Pick a date">üìÖ</button>
                            </div>
                            <div class="mobile-date-display">
                                <span id="mobile-current-date-display">Today</span>
                            </div>
                        </div>
                        <button id="mobile-next-date-btn" title="Next date">‚Üí</button>
                    </div>
                    <div class="mobile-search">
                        <input type="text" id="mobile-search-input" placeholder="Search news...">
                        <button id="mobile-search-btn">üîç</button>
                    </div>
                    <div class="mobile-actions">
                        <button id="mobile-load-news-btn" title="Load News">üì• Load News</button>
                        <button id="mobile-view-json-btn" title="View JSON">üìÑ View JSON</button>
                        <button id="mobile-generate-btn" title="Generate JSON">‚ö° Generate JSON</button>
                        <button id="mobile-live-btn" title="Live News">üì∫ Live News</button>
                        <button id="mobile-curation-btn" title="Curation">üìã Curation</button>
                        <button id="mobile-chatbot-btn" title="AI Chat">ü§ñ AI Chat</button>
                    </div>
                </div>
            </div>
            <div class="category-filter-container">
                <div id="category-filter" class="category-filter collapsed"></div>
            </div>
        </header>
        <main>
            <div class="newspaper-layout">
                <!-- Left Column - Main + Development (stacked) -->
                <div class="newspaper-column left-column">
                    <div class="column-header">
                        <h2>Main News</h2>
                    </div>
                    <div class="carousel-container horizontal-carousel">
                        <div class="carousel-track" id="main-news-carousel"></div>
                        <button class="carousel-nav prev" id="main-news-prev">‚Äπ</button>
                        <button class="carousel-nav next" id="main-news-next">‚Ä∫</button>
                    </div>

                    <div class="column-header" style="margin-top: 12px;">
                        <h2>Development</h2>
                    </div>
                    <div class="carousel-container horizontal-carousel">
                        <div class="carousel-track" id="dev-news-carousel"></div>
                        <button class="carousel-nav prev" id="dev-news-prev">‚Äπ</button>
                        <button class="carousel-nav next" id="dev-news-next">‚Ä∫</button>
                    </div>
                </div>

                <!-- Right Column - Community & Market -->
                <div class="newspaper-column right-column">
                    <div class="column-header">
                        <h2>Community & Market</h2>
                    </div>
                    <div class="carousel-container vertical-carousel">
                        <div class="carousel-track" id="community-news-carousel"></div>
                        <button class="carousel-nav prev" id="community-news-prev">‚Äπ</button>
                        <button class="carousel-nav next" id="community-news-next">‚Ä∫</button>
                    </div>
                </div>
            </div>

            <!-- Masonry Layout (default visible) -->
            <div id="masonry-layout" class="masonry-layout" style="display: none;"></div>

            <!-- Original feed container (hidden by default) -->
            <div class="main-content" style="display: none;">
                <div id="loading-indicator" class="loading-indicator">
                    <div class="spinner"></div>
                    <p>Loading news...</p>
                </div>
                <div id="feed-container" class="feed"></div>
            </div>
            <div class="right-panel" id="right-panel">
                <div class="panel-header">
                    <button id="close-panel-btn" title="Close panel">√ó</button>
                </div>
                <div class="panel-content">
                    <div id="curation-panel" class="panel-section">
                        <h3>Drag items here to curate</h3>
                        <div id="drop-zone" class="drop-zone">Drop</div>
                        <div id="active-feed" class="active-feed">
                            <h3>Curated Items (<span id="curated-count">0</span>)</h3>
                            <div class="curated-controls">
                                <button id="clear-curated-btn" title="Clear all curated items">Clear All</button>
                                <button id="save-curated-btn" title="Save curated items to local storage">Save</button>
                            </div>
                            <div class="curated-items"></div>
                        </div>
                    </div>
                    <div id="chatbot-panel" class="panel-section" style="display: none;">
                        <h3>AI Chatbot</h3>
                        <div class="chat-container">
                            <div class="chat-messages" id="chat-messages">
                                <div class="message bot-message">
                                    <p>Hello! I'm here to help you with news analysis and curation. What would you like to know?</p>
                                </div>
                            </div>
                            <div class="chat-input">
                                <input type="text" id="chat-input" placeholder="Ask me anything...">
                                <button id="send-chat-btn">Send</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer>
            <div class="footer-content large">
                <div class="footer-links">
                    <span>¬© 2024 News Browser</span>
                    <span>‚Ä¢</span>
                    <a href="#" title="Privacy Policy">Privacy</a>
                    <span>‚Ä¢</span>
                    <a href="https://github.com/elizaOS/knowledge/blob/main/LICENSE" title="MIT License">MIT License</a>
                    <span>‚Ä¢</span>
                    <a href="https://github.com/elizaOS/news-browser" title="GitHub Repository">GitHub</a>
                    <span>‚Ä¢</span>
                    <a href="https://github.com/elizaOS/knowledge" title="Knowledge Repository">Knowledge</a>
                </div>
                <audio id="footer-audio" controls preload="none" style="height:28px">
                    <source src="assets/sample.mp3" type="audio/mpeg" />
                    Your browser does not support the audio element.
                </audio>
            </div>
        </footer>
        <div id="keyboard-shortcuts" class="keyboard-shortcuts">
            <button id="toggle-shortcuts">?</button>
            <div class="shortcuts-panel">
                <h3>Keyboard Shortcuts</h3>
                <ul>
                    <li><kbd>L</kbd> - Load News</li>
                    <li><kbd>S</kbd> - Search</li>
                    <li><kbd>V</kbd> - View JSON</li>
                    <li><kbd>G</kbd> - Generate Curated JSON</li>
                    <li><kbd>‚Üê</kbd> - Previous Date</li>
                    <li><kbd>‚Üí</kbd> - Next Date</li>
                    <li><kbd>T</kbd> - Today</li>
                    <li><kbd>C</kbd> - Calendar</li>
                    <li><kbd>?</kbd> - Toggle Shortcuts</li>
                </ul>
            </div>
        </div>
    </div>
    <script type="module" src="scripts/app.js"></script>
</body>
</html>